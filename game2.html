<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Side-Scroller Adventure</title>
    <style>
        body { margin: 0; background: #222; overflow: hidden; font-family: sans-serif; }
        #ui { position: absolute; top: 10px; left: 10px; color: white; font-size: 20px; text-shadow: 2px 2px #000; }
        canvas { display: block; background: #131313; }
    </style>
</head>
<body>

    <div id="ui">Use Arrows to Move & Jump</div>
    <canvas id="gameCanvas"></canvas>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Game Constants
    const gravity = 0.8;
    const friction = 0.8;
    
const player = {
    x: 100,
    y: 100,
    w: 30,      // Slightly slimmer
    h: 50,      // Slightly taller (more humanoid)
    velX: 0,
    velY: 0,
    speed: 5,
    jumpStrength: -15,
    grounded: false,
    facing: 'right', // Added to track direction
    color: '#00ffcc' // Neon Teal
};
    // Level Design (x, y, width, height)
    const platforms = [
        { x: 0, y: canvas.height - 50, w: 600, h: 50 },
        { x: 700, y: canvas.height - 150, w: 400, h: 50 },
        { x: 1200, y: canvas.height - 250, w: 400, h: 50 },
        { x: 1700, y: canvas.height - 100, w: 800, h: 100 },
        { x: 2000, y: canvas.height - 300, w: 200, h: 40 }
    ];

    const keys = {};
    let cameraX = 0;

    window.addEventListener('keydown', e => keys[e.code] = true);
    window.addEventListener('keyup', e => keys[e.code] = false);

    function update() {
        // Player Movement
        if (keys['ArrowRight']) {
    if (player.velX < player.speed) player.velX++;
    player.facing = 'right';
}
if (keys['ArrowLeft']) {
    if (player.velX > -player.speed) player.velX--;
    player.facing = 'left';
}
        if (keys['ArrowUp'] || keys['Space']) {
            if (player.grounded) {
                player.velY = player.jumpStrength;
                player.grounded = false;
            }
        }

        player.velX *= friction;
        player.velY += gravity;

        player.grounded = false;

        // Platform Collision
        for (let p of platforms) {
            if (player.x < p.x + p.w &&
                player.x + player.w > p.x &&
                player.y < p.y + p.h &&
                player.y + player.h > p.y) {
                
                // Only collide if falling onto the top
                if (player.velY > 0 && player.y + player.h - player.velY <= p.y) {
                    player.grounded = true;
                    player.velY = 0;
                    player.y = p.y - player.h;
                }
            }
        }

        player.x += player.velX;
        player.y += player.velY;

        // Camera Follow (Centering the player)
        cameraX = player.x - canvas.width / 4;

        // Fall off screen reset
        if (player.y > canvas.height) {
            player.x = 100;
            player.y = 100;
            player.velY = 0;
        }
    }

 function drawPlayer() {
    ctx.fillStyle = player.color;
    
    // Draw Body
    ctx.fillRect(player.x, player.y, player.w, player.h);

    // Draw "Eyes" based on direction
    ctx.fillStyle = "white";
    let eyeOffset = player.facing === 'right' ? 15 : 5;
    
    // Left eye
    ctx.fillRect(player.x + eyeOffset, player.y + 10, 5, 5);
    // Right eye
    ctx.fillRect(player.x + eyeOffset + 8, player.y + 10, 5, 5);
}

    function gameLoop() {
        update();
        draw();
    }

    gameLoop();
</script>
</body>
</html>
